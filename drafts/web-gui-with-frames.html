<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>IRISA CoAP interoperability Testing Tool</title>

		<!-- Jquery -->
		<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

		<style type="text/css">
			.input-group {
				margin-bottom: 10px;
			}

			.radio-button {
				width: 120px;
				text-align: center;
				margin-left: auto;
				margin-right: auto;
			}

			.centered-block {
				display: block;
				margin-left: auto;
				margin-right: auto;
			}

			.packet-content a:hover {
				text-decoration: none;
			}

			.packet-content a:focus {
				text-decoration: none;
			}

			.packet-content p {
				margin-bottom: 0px;
			}

			.indent {
				margin-left: 30px;
			}

			.packet-content .panel {
				border-radius: 0px;
			}

			.packet-content .panel+.panel {
				margin-top: 0px;
			}

			.packet-content .panel-body {
				padding: 5px;
			}

			.packet-content .panel-heading {
				/*border: 1px solid #ddd;*/
				background-color: #f5f5f5;
			}
		</style>
	</head>

	<body>
		<nav class="navbar navbar-default">
			<div class="container-fluid">

				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">TTproto</a>
				</div>

				<div class="collapse navbar-collapse" id="navbar-collapse">
					<ul class="nav navbar-nav">
					</ul>
				</div>
			</div>
		</nav>

		<div class="container">

			<div class="row">

				<form action="pcap-processing" method="POST" enctype="multipart/form-data">

					<div class="col-sm-6">

						<div class="page-header">
							<h1>Pcap file to analyse</h1>
						</div>

						<div class="input-group">
							<span class="input-group-addon">Enter your pcap file</span>
							<input type="file" class="form-control" name="pcap">
						</div>

					</div>

					<div class="col-sm-6">

						<div class="page-header">
							<h1>Analyse options</h1>
						</div>

						<div class="input-group" >
							<span class="input-group-addon" >Frame number</span>
							<input class="form-control" type="text" name="frame-number" placeholder="Enter a frame number if only one wanted" >
						</div>

						<div style="text-align: center;">

							<div class="btn-group" data-toggle="buttons">
								<label class="btn btn-info active">
									<input type="radio" id="analyse-option" autocomplete="off" name="options" value="analyse" checked > Analyse
								</label>
								<label class="btn btn-info">
									<input type="radio" id="dissect-option" autocomplete="off" name="options" value="dissect"> Dissect
								</label>
							</div>

						</div>

					</div>

					<p style="text-align: center; margin-top: 10px;">
						<input type="submit" value="Execute" class="btn btn-success centered-block">
					</p>

				</form>

			</div>


			<div style="height: 50px;"></div>


			<div class="row">

				<div class="page-header">
					<h1 style="text-align: center;">Result</h1>
				</div>

			</div>

			<div class="row">

				<div class="col-md-2"></div>

				<div class="col-md-8">

					<div class="panel panel-default">
						<div class="panel-heading">
							<h1 class="panel-title" style="text-align: center;">Frame nÂ°1</h1>
						</div>

						<div class="panel-body">

							<p>
								[Some more informations if needed]
							</p>
							
							<div class="panel-group packet-content" id="frames" role="tablist" aria-multiselectable="true">

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse1" aria-expanded="false" aria-controls="collapse1">
										<div class="panel-heading" role="tab" id="frame1">
											Ethernet
										</div>
									</a>

									<div id="collapse1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame1">
										<div class="panel-body">
											<p>
												DestinationAddress: "18:1e:78:4e:03:10"
											</p>
											<p>
												SourceAddress: "ac:bc:32:cd:f3:8b"
											</p>
											<p>
												Type: "0x0800"
											</p>
											<p>
												Trailer: "b''"
											</p>
										</div>
									</div>
								</div>

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse2" aria-expanded="false" aria-controls="collapse2">
										<div class="panel-heading" role="tab" id="frame2">
												IPv4
										</div>
									</a>
									
									<div id="collapse2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame2">
										<div class="panel-body">
											<p>Version: "4"</p>
											<p>HeaderLength: "5"</p>
											<p>TypeOfService: "0x00"</p>
											<p>TotalLength: "41"</p>
											<p>Identification: "0x5948"</p>
											<p>Reserved: "0"</p>
											<p>DontFragment: "0"</p>
											<p>MoreFragments: "0"</p>
											<p>FragmentOffset: "0"</p>
											<p>TimeToLive: "64"</p>
											<p>Protocol: "17"</p>
											<p>HeaderChecksum: "0xceee"</p>
											<p>SourceAddress: "192.168.1.17"</p>
											<p>DestinationAddress: "129.132.15.80"</p>
											<p>Options: "b''"</p>
										</div>
									</div>
								</div>

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse3" aria-expanded="false" aria-controls="collapse3">
										<div class="panel-heading" role="tab" id="frame3">
											UDP
										</div>
									</a>

									<div id="collapse3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame3">
										<div class="panel-body">
											<p>SourcePort: "65236"</p>
											<p>DestinationPort: "5683"</p>
											<p>Length: "21"</p>
											<p>Checksum: "0x16b8"</p>
										</div>
									</div>
								</div>

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse4" aria-expanded="false" aria-controls="collapse4">
										<div class="panel-heading" role="tab" id="frame4">
											CoAP
										</div>
									</a>

									<div id="collapse4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame4">
										<div class="panel-body">
											<p>Version: "1"</p>
											<p>Type: "1"</p>
											<p>TokenLength: "2"</p>
											<p>Code: "69"</p>
											<p>MessageID: "0xa312"</p>
											<p>Token: "b'b\\xda'"</p>
											<p>Payload:
												<div class="indent">
													<p>Type: 1 (NON)</p>
													<p>Code: 1 (GET)</p>
													<p>MID: 15345</p>
													<p>Token: 62da</p>
												</div>
											</p>
											<p>Options:
												<div class="indent">
													<p>Option:
														<div class="indent">
															<p>Delta: 12</p>
															<p>Length: 0</p>
															<p>Value: 0</p>
														</div>
													</p>
													<p>CoAPOptionMaxAge:
														<div class="indent">
															<p>Delta: 2</p>
															<p>Length: 1</p>
															<p>Value: 30</p>
														</div>
													</p>
													<p>CoAPOptionBlock2:
														<div class="indent">
															<p>Delta: 9</p>
															<p>Length: 1</p>
															<p>Number: 0</p>
															<p>M: 0</p>
															<p>SizeExponent: 2</p>
														</div>
													</p>
												</div>
											</p>
										</div>
									</div>
								</div>

							</div>

						</div>
					</div>

				</div>

				<div class="col-md-2"></div>

			</div>

			<div class="row">

				<div class="col-xs-3" style="text-align: center;">
					<a href="#"><span class="glyphicon glyphicon-chevron-left" style="font-size: 52px;"></span></a>
				</div>

				<div class="col-md-1 visible-lg visible-md"></div>

				<div class="col-xs-6 col-md-4">
					<div class="input-group" style="margin-top: 10px;">
						<span class="input-group-addon" >Directly access to frame </span>
						<input class="form-control" type="text" name="frame-number" placeholder="number" >
						<a class="input-group-addon btn btn-info" type="submit" placeholder="number" >
							<span class="glyphicon glyphicon-fast-forward"></span>
						</a>
					</div>
				</div>

				<div class="col-md-1 visible-lg visible-md"></div>

				<div class="col-xs-3" style="text-align: center;">
					<a href="#"><span class="glyphicon glyphicon-chevron-right" style="font-size: 52px;"></span></a>
				</div>

			</div>

		</div>

	</body>
</html>