<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<title>IRISA CoAP interoperability Testing Tool</title>

		<!-- Jquery -->
		<script src="js-libs/jquery-2.2.4.min.js"></script>

		<!-- Latest compiled and minified JavaScript -->
		<script src="js-libs/bootstrap.min.js"></script>

		<!-- React scripts -->
		<script src="js-libs/react.js"></script>
		<script src="js-libs/react-dom.js"></script>
		<script src="js-libs/browser.js"></script>
		<script src="js-libs/marked.min.js"></script>

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="js-libs/bootstrap.min.css" />

		<style type="text/css">
			.input-group {
				margin-bottom: 10px;
			}

			.radio-button {
				width: 120px;
				text-align: center;
				margin-left: auto;
				margin-right: auto;
			}

			.centered-block {
				display: block;
				margin-left: auto;
				margin-right: auto;
			}

			.packet-content a:hover {
				text-decoration: none;
			}

			.packet-content a:focus {
				text-decoration: none;
			}

			.indent {
				margin-left: 30px;
			}

			.packet-content .panel {
				border-radius: 0px;
			}

			.packet-content .panel+.panel {
				margin-top: 0px;
			}

			.packet-content .panel-body {
				padding: 5px;
			}

			.packet-content .panel-heading {
				display: block;
				background-color: #f5f5f5;
			}
		</style>
	</head>

	<body>
		<div class="navbar navbar-default">
			<div class="container-fluid">

				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">TTproto</a>
				</div>

				<div class="collapse navbar-collapse" id="navbar-collapse">
					<ul class="nav navbar-nav">
					</ul>
				</div>
			</div>
		</div>

		<div class="container">

			<div class="row">

				<form action="pcap-processing" method="post" enctype="multipart/form-data">

					<div class="col-sm-6">

						<div class="page-header">
							<h1>Pcap file to analyse</h1>
						</div>

						<div class="input-group">
							<span class="input-group-addon">Enter your pcap file</span>
							<input type="file" class="form-control" name="pcap" />
						</div>

					</div>

					<div class="col-sm-6">

						<div class="page-header">
							<h1>Analyse options</h1>
						</div>

						<div class="input-group" >
							<span class="input-group-addon" >Frame number</span>
							<input class="form-control" type="text" name="frame-number" placeholder="Enter a frame number if only one wanted" />
						</div>

						<div style="text-align: center;">

							<div class="btn-group" data-toggle="buttons">
								<label class="btn btn-info active">
									<input type="radio" id="analyse-option" autocomplete="off" name="options" value="analyse" checked /> Analyse
								</label>
								<label class="btn btn-info">
									<input type="radio" id="dissect-option" autocomplete="off" name="options" value="dissect" /> Dissect
								</label>
							</div>

						</div>

					</div>

					<p style="text-align: center; margin-top: 10px;">
						<input type="submit" value="Execute" class="btn btn-success centered-block" />
					</p>

				</form>

			</div>


			<div style="height: 50px;"></div>


			<div class="row">

				<div class="page-header">
					<h1 style="text-align: center;">Result</h1>
				</div>

			</div>

			<div class="row">

				<div class="col-md-2"></div>

				<div class="col-md-8">

					<div class="panel panel-default">
						<div class="panel-heading">
							<h1 class="panel-title" style="text-align: center;">Frame nÂ°1</h1>
						</div>

						<div class="panel-body">

							<p>
								[Some more informations if needed]
							</p>
							
							<div class="panel-group packet-content" id="frames" role="tablist" aria-multiselectable="true">

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse1" aria-expanded="false" aria-controls="collapse1">
										<span class="panel-heading" role="tab" id="frame1">
											Ethernet
										</span>
									</a>

									<div id="collapse1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame1">
										<div class="panel-body">
											<div>
												DestinationAddress: "18:1e:78:4e:03:10"
											</div>
											<div>
												SourceAddress: "ac:bc:32:cd:f3:8b"
											</div>
											<div>
												Type: "0x0800"
											</div>
											<div>
												Trailer: "b''"
											</div>
										</div>
									</div>
								</div>

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse2" aria-expanded="false" aria-controls="collapse2">
										<span class="panel-heading" role="tab" id="frame2">
												IPv4
										</span>
									</a>
									
									<div id="collapse2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame2">
										<div class="panel-body">
											<div>Version: "4"</div>
											<div>HeaderLength: "5"</div>
											<div>TypeOfService: "0x00"</div>
											<div>TotalLength: "41"</div>
											<div>Identification: "0x5948"</div>
											<div>Reserved: "0"</div>
											<div>DontFragment: "0"</div>
											<div>MoreFragments: "0"</div>
											<div>FragmentOffset: "0"</div>
											<div>TimeToLive: "64"</div>
											<div>Protocol: "17"</div>
											<div>HeaderChecksum: "0xceee"</div>
											<div>SourceAddress: "192.168.1.17"</div>
											<div>DestinationAddress: "129.132.15.80"</div>
											<div>Options: "b''"</div>
										</div>
									</div>
								</div>

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse3" aria-expanded="false" aria-controls="collapse3">
										<span class="panel-heading" role="tab" id="frame3">
											UDP
										</span>
									</a>

									<div id="collapse3" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame3">
										<div class="panel-body">
											<div>SourcePort: "65236"</div>
											<div>DestinationPort: "5683"</div>
											<div>Length: "21"</div>
											<div>Checksum: "0x16b8"</div>
										</div>
									</div>
								</div>

								<div class="panel panel-default">
									<a class="collapsed" role="button" data-toggle="collapse" href="#collapse4" aria-expanded="false" aria-controls="collapse4">
										<span class="panel-heading" role="tab" id="frame4">
											CoAP
										</span>
									</a>

									<div id="collapse4" class="panel-collapse collapse" role="tabpanel" aria-labelledby="frame4">
										<div class="panel-body">
											<div>Version: "1"</div>
											<div>Type: "1"</div>
											<div>TokenLength: "2"</div>
											<div>Code: "69"</div>
											<div>MessageID: "0xa312"</div>
											<div>Token: "b'b\\xda'"</div>
											<div>Payload:
												<div class="indent">
													<div>Type: 1 (NON)</div>
													<div>Code: 1 (GET)</div>
													<div>MID: 15345</div>
													<div>Token: 62da</div>
												</div>
											</div>
											<div>Options:
												<div class="indent">
													<div>Option:
														<div class="indent">
															<div>Delta: 12</div>
															<div>Length: 0</div>
															<div>Value: 0</div>
														</div>
													</div>
													<div>CoAPOptionMaxAge:
														<div class="indent">
															<div>Delta: 2</div>
															<div>Length: 1</div>
															<div>Value: 30</div>
														</div>
													</div>
													<div>CoAPOptionBlock2:
														<div class="indent">
															<div>Delta: 9</div>
															<div>Length: 1</div>
															<div>Number: 0</div>
															<div>M: 0</div>
															<div>SizeExponent: 2</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>

							</div>

						</div>
					</div>

				</div>

				<div class="col-md-2"></div>

			</div>

			<div class="row">

				<div class="col-xs-3" style="text-align: center;">
					<a href="#"><span class="glyphicon glyphicon-chevron-left" style="font-size: 52px;"></span></a>
				</div>

				<div class="col-md-1 visible-lg visible-md"></div>

				<div class="col-xs-6 col-md-4">
					<div class="input-group" style="margin-top: 10px;">
						<span class="input-group-addon" >Directly access to frame </span>
						<input class="form-control" type="text" name="frame-number" placeholder="number" />
						<a class="input-group-addon btn btn-info" type="submit" placeholder="number" >
							<span class="glyphicon glyphicon-fast-forward"></span>
						</a>
					</div>
				</div>

				<div class="col-md-1 visible-lg visible-md"></div>

				<div class="col-xs-3" style="text-align: center;">
					<a href="#"><span class="glyphicon glyphicon-chevron-right" style="font-size: 52px;"></span></a>
				</div>

			</div>

		</div>

	</body>
</html>